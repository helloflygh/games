<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>HTML Loader Screen</title>

<style>
    html, body {
        margin: 0;
        width: 100%;
        height: 100%;
    }

    iframe {
        width: 100%;
        height: 100%;
        border: none;
        background: white;
    }
</style>
</head>

<body>

<iframe id="viewer"></iframe>

<script>
const githubHTMLUrl =
    "https://raw.githubusercontent.com/CoolDude2349/Offline-Single-File-Games/master/offline/geometrydash.html";

async function loadGame() {
    try {
        const response = await fetch(githubHTMLUrl);
        let html = await response.text();

        // genuine and honest chatgpt right here
        const baseUrl = githubHTMLUrl.substring(0, githubHTMLUrl.lastIndexOf("/") + 1);
        html = html.replace(
            "<head>",
            `<head><base href="${baseUrl}">`
        );

        const iframe = document.getElementById("viewer");
        const iframeDoc = iframe.contentDocument || iframe.contentWindow.document;

        iframeDoc.open();
        iframeDoc.write(html);
        iframeDoc.close();
    } catch (err) {
        alert("Failed to load GitHub HTML");
        console.error(err);
    }
}

window.addEventListener("DOMContentLoaded", loadGame);
</script>

</body>
</html>
